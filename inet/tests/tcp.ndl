module TcpServer {
    gates {
        port,
    }
}

module Link {
    gates {
        lhs,
        rhs
    }
}

module TcpClient {
    gates {
        port
    }
}

link LANLink {
    bitrate: 10000000,
    jitter: 0.0,
    latency: 0.03,
}

link LANLinkBuffed {
    bitrate: 10000000,
    jitter: 0.0,
    latency: 0.03,
    queuesize: 2048,
}

module Main {
    submodules {
        server: TcpServer,
        mim: Link,
        client: TcpClient,
    } 

    connections {
        server/port <-- LANLinkBuffed --> mim/rhs,
        client/port <-- LANLinkBuffed --> mim/lhs,
    }
}

entry Main;